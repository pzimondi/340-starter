<div class="statistics-container">
    <h1 class="page-title">
        <%= title %>
    </h1>

    <% if (messages && messages.notice) { %>
        <div class="notice">
            <%= messages.notice %>
        </div>
        <% } %>

            <div class="stats-summary">
                <div class="stat-card total">
                    <div class="stat-number">
                        <%= total %>
                    </div>
                    <div class="stat-label">Total Vehicles</div>
                </div>
            </div>

            <div class="stats-grid">
                <h2>Vehicles by Classification</h2>

                <% if (stats && stats.length> 0) { %>
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th>Classification</th>
                                <th>Vehicle Count</th>
                                <th>Percentage</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% stats.forEach(function(stat) { const percentage=total> 0 ? ((stat.vehicle_count / total)
                                * 100).toFixed(1) : 0
                                %>
                                <tr>
                                    <td class="classification-name">
                                        <a href="/inv/type/<%= stat.classification_id || '#' %>">
                                            <%= stat.classification_name %>
                                        </a>
                                    </td>
                                    <td class="count">
                                        <%= stat.vehicle_count %>
                                    </td>
                                    <td class="percentage">
                                        <div class="percentage-bar-container">
                                            <div class="percentage-bar" style="width: <%= percentage %>%"></div>
                                            <span class="percentage-text">
                                                <%= percentage %>%
                                            </span>
                                        </div>
                                    </td>
                                </tr>
                                <% }) %>
                        </tbody>
                    </table>
                    <% } else { %>
                        <p class="no-data">No vehicle data available.</p>
                        <% } %>
            </div>
</div>